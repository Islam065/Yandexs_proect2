# Описание Кода Игры “Змейка: Эволюция”
Этот код представляет собой реализацию классической игры «Змейка» на Python с использованием библиотеки Pygame. Он включает в себя основные механики змейки, такие как перемещение, поедание еды, рост, столкновения, а также добавляет несколько улучшений, таких как препятствия, бонусная еда и неуязвимость. Код организован в виде классов, что упрощает понимание и расширение функциональности.

## Основные Компоненты:

### Определения (Definitions):

Содержит константы, определяющие цвета, размеры экрана, скорость змейки, размеры блоков и другие параметры игры. Это позволяет легко настраивать различные аспекты игры.
Задает частоту кадров (FPS), что влияет на плавность анимации.
###Класс Snake:

Представляет змейку в игре.
#### Атрибуты:
body: Список координат, представляющих тело змейки.
direction: Кортеж, представляющий направление движения змейки.
new_block: Флаг, указывающий, нужно ли добавить новый блок к телу змейки.
color: Цвет змейки.
invincible: Флаг, указывающий, неуязвима ли змейка в данный момент.
invincible_timer: Таймер, отсчитывающий время действия неуязвимости.
move_timer: Таймер, контролирующий скорость движения змейки.
#### Методы:
__init__(): Инициализирует змейку с начальной позицией, направлением и другими параметрами.
grow(): Увеличивает длину змейки.
check_collision(): Проверяет, не столкнулась ли змейка сама с собой.
draw(): Рисует змейку на экране в виде последовательности закруглённых прямоугольников.
make_invincible(): Делает змейку неуязвимой на определенное время.
update(): Обновляет состояние змейки (например, отсчитывает время действия неуязвимости).
get_head_rect(): Возвращает прямоугольник, представляющий голову змейки, для упрощения проверки столкновений.
### Класс Food:

Представляет обычную еду в игре.
#### Атрибуты:
position: Координаты еды на игровом поле.
color: Цвет еды.
radius: Радиус еды.
is_bonus: Флаг, указывающий, является ли еда бонусной.
#### Методы:
__init__(): Инициализирует еду, задаёт начальную позицию, цвет и радиус. При создании определяет, что еда не находится в теле змейки или блоках.
generate_random_position(): Генерирует случайную позицию для еды.
generate_valid_position(): Генерирует допустимую случайную позицию, исключая расположение в теле змейки и в блоках.
is_inside_blocks(): Проверяет, находится ли позиция внутри какого-либо блока.
draw(): Отрисовывает еду на экране в виде круга.
update(): Обновляет информацию о блоках и теле змейки для определения допустимой позиции в будущем.
### Класс DoublePointsFood:

Представляет бонусную еду, дающую вчетверо больше очков.
Наследуется от pygame.sprite.Sprite.
Практически идентичен классу Food, но имеет другой цвет, больший радиус и приносит больше очков.
Имеет атрибут active, определяющий, должна ли бонусная еда отображаться.
### Класс Block:

Представляет препятствие на игровом поле.
####Атрибуты:
image: Изображение блока.
rect: Прямоугольник, определяющий положение и размер блока.
#### Методы:
__init__(): Загружает изображение блока, масштабирует его и задает начальную позицию.
update(): В данном коде не выполняет никаких действий.
### Класс InvinciblePowerUp:

Представляет бонус неуязвимости.
#### Атрибуты:
image: Изображение бонуса.
rect: Прямоугольник, определяющий положение и размер бонуса.
active: Флаг, указывающий, активен ли бонус в данный момент.
#### Методы:
__init__(): Загружает изображение бонуса, масштабирует его и задает начальную позицию.
update(): Если бонус не активен, перемещает его за пределы экрана.
### Инициализация Pygame:

Инициализирует Pygame, создаёт окно, устанавливает заголовок и загружает ресурсы (музыку, шрифты, изображения).
#### Создание Объектов Игры:

Создает экземпляры классов Snake, Food, DoublePointsFood, InvinciblePowerUp и группы спрайтов для блоков.
Функция add_block() добавляет блоки на игровое поле.
### Основной Цикл Игры:

Содержит основной цикл игры, который выполняется до тех пор, пока не наступит условие game_over.
Обработка событий: обрабатывает события, такие как нажатия клавиш (для управления змейкой и перезапуска игры) и закрытие окна.
#### Логика игры:
Перемещает змейку (snake.move()).
Обновляет состояние змейки (snake.update()), еды (food.update()) и бонусов.
Проверяет столкновения змейки с едой, бонусами и препятствиями.
Управляет появлением блоков и бонусной еды.
Обновляет счет и уровень игрока.
#### Рендеринг:
Очищает экран (screen.fill(BLACK)).
Рисует змейку, еду, блоки, бонусы и текст на экране.
Обновляет экран (pygame.display.flip()).
#### Управление FPS:
Ограничивает частоту кадров (clock.tick(FPS)), чтобы игра работала с заданной скоростью.
#### Сохранение Рекорда:

Сохраняет рекорд игрока в файл highscore.txt.
#### Выход из Pygame:

Выходит из Pygame (pygame.quit()) и завершает программу (sys.exit()).
